# Yasno Outages Bot - v2

Telegram-–±–æ—Ç –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—ó –≤—ñ–¥ Yasno –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –≥—Ä—É–ø–æ–≤–∏—Ö —á–∞—Ç—ñ–≤ —Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—î—é —Ä–æ–∑–∫–ª–∞–¥—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–¶–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è –±–æ—Ç–∞ –∑ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—é:
- üìù –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —É –≥—Ä—É–ø–æ–≤–∏—Ö —á–∞—Ç–∞—Ö
- üîç –ê–Ω–∞–ª—ñ–∑ –ø–µ—Ä–µ—Å—ñ—á–µ–Ω—å –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å
- ‚úÖ –ó–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –ø–µ—Ä–∏–æ–¥—ñ–≤, –∫–æ–ª–∏ —É –≤—Å—ñ—Ö —Å–≤—ñ—Ç–ª–æ
- ‚ö†Ô∏è –í–∏—è–≤–ª–µ–Ω–Ω—è –ø–µ—Ä–∏–æ–¥—ñ–≤ "—Å–≤—ñ—Ç–ª–æ —É –≤—Å—ñ—Ö –∫—Ä—ñ–º –æ–¥–Ω–æ–≥–æ"
- üê≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è –∑ persist –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           Telegram Users                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
                 ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   Telegram Bot      ‚îÇ
        ‚îÇ   (telegram_bot_v2) ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                   ‚îÇ
        ‚ñº                   ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ YasnoAPI‚îÇ         ‚îÇ UserDatabase     ‚îÇ
   ‚îÇ         ‚îÇ         ‚îÇ (SQLite)         ‚îÇ
   ‚îÇ API req ‚îÇ         ‚îÇ /app/data/*.db   ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                       ‚îÇ
        ‚ñº                       ‚ñº
   Yasno API          Persistent Volume
```

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
yasno-bot/
‚îú‚îÄ‚îÄ yasno_api.py              # API –∫–ª—ñ—î–Ω—Ç –¥–ª—è Yasno
‚îú‚îÄ‚îÄ database.py               # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ schedule_analyzer.py      # –ê–Ω–∞–ª—ñ–∑ –ø–µ—Ä–µ—Å—ñ—á–µ–Ω—å –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
‚îú‚îÄ‚îÄ telegram_bot_v2.py        # –û—Å–Ω–æ–≤–Ω–∏–π –±–æ—Ç
‚îú‚îÄ‚îÄ requirements.txt          # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ Dockerfile                # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml        # Docker Compose –∫–æ–Ω—Ñ—ñ–≥
‚îú‚îÄ‚îÄ .env.example              # –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ .dockerignore             # Docker ignore
‚îú‚îÄ‚îÄ .gitignore                # Git ignore
‚îî‚îÄ‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í–∏–º–æ–≥–∏

- Docker & Docker Compose (–∞–±–æ Python 3.8+)
- Telegram Bot Token –≤—ñ–¥ @BotFather

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è)

1. **–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é**
```bash
git clone <repo-url>
cd yasno-bot
```

2. **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è**
```bash
cp .env.example .env
```

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π `.env` —Ñ–∞–π–ª –∏ –≤—Å—Ç–∞–≤—å —Å–≤—ñ–π —Ç–æ–∫–µ–Ω:
```env
TELEGRAM_BOT_TOKEN=123456789:ABCdefGhIJKlmNoPQRsTUVwxyZ
```

3. **–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**
```bash
docker-compose up -d
```

–ì–æ—Ç–æ–≤–æ! –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω–∏–π. –ü–µ—Ä–µ–≤—ñ—Ä –ª–æ–≥–∏:
```bash
docker-compose logs -f
```

4. **–ó—É–ø–∏–Ω–∫–∞**
```bash
docker-compose down
```

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –±–µ–∑ Docker

1. **–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é**
```bash
git clone <repo-url>
cd yasno-bot
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π**
```bash
pip install -r requirements.txt
```

3. **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è**
```bash
cp .env.example .env
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π .env —Ñ–∞–π–ª
nano .env
```

4. **–ó–∞–ø—É—Å–∫**
```bash
python telegram_bot_v2.py
```

## üìñ –ö–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è

### –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

#### `/register <–≥—Ä—É–ø–∞> <—ñ–º'—è>`
–ó–∞—Ä–µ—î—Å—Ç—Ä—É–π —Å–µ–±–µ –≤ –≥—Ä—É–ø—ñ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É.

**–ü—Ä–∏–∫–ª–∞–¥–∏:**
```
/register 1.1 –Ü–≤–∞–Ω
/register 2.2 –ú–∞—Ä—ñ—è
/register 3.1 –ü–µ—Ç—Ä–æ
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≥—Ä—É–ø–ø—ã:** 1.1, 1.2, 2.1, 2.2, 3.1, 3.2, 4.1, 4.2, 5.1, 5.2, 6.1, 6.2

#### `/calculate`
–ê–Ω–∞–ª—ñ–∑—É—î –≥—Ä–∞—Ñ—ñ–∫–∏ –≤—Å—ñ—Ö –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —É —á–∞—Ç—ñ –∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å:
- ‚úÖ –ü–µ—Ä—ñ–æ–¥–∏, –∫–æ–ª–∏ —É –í–°–Ü–• —Å–≤—ñ—Ç–ª–æ
- ‚ö†Ô∏è –ü–µ—Ä—ñ–æ–¥–∏, –∫–æ–ª–∏ —Å–≤—ñ—Ç–ª–æ —É –≤—Å—ñ—Ö –ö–†–Ü–ú –û–î–ù–û–ì–û (–∑ —É–∫–∞–∑–∞–Ω–∏–µ–º, —É –∫–æ–≥–æ –Ω–µ–º–∞—î)

#### `/users`
–ü–æ–∫–∞–∑—É—î —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —É —á–∞—Ç—ñ.

#### `/unregister`
–í–∏–¥–∞–ª—è—î —Ç–µ–±–µ –∑—ñ —Å–ø–∏—Å–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

#### `/help`
–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º.

### –ü—Ä–∏–∫–ª–∞–¥ —Ä–æ–±–æ—Ç–∏

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 1: /register 1.1 –Ü–≤–∞–Ω
–ë–û–¢: ‚úÖ –ü—Ä–∏–≤—ñ—Ç, –Ü–≤–∞–Ω!
     –¢–∏ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π —É –≥—Ä—É–ø—ñ 1.1
     –¢–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π /calculate –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 2: /register 1.2 –ú–∞—Ä—ñ—è
–ë–û–¢: ‚úÖ –ü—Ä–∏–≤—ñ—Ç, –ú–∞—Ä—ñ—è!
     –¢–∏ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π —É –≥—Ä—É–ø—ñ 1.2
     –¢–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π /calculate –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 1: /calculate
–ë–û–¢: üìä –ê–ù–ê–õ–Ü–ó –ì–†–ê–§–Ü–ö–Ü–í

     üë• –£—á–∞—Å–Ω–∏–∫–∏:
      ‚Ä¢ –Ü–≤–∞–Ω (–≥—Ä—É–ø–∞ 1.1)
      ‚Ä¢ –ú–∞—Ä—ñ—è (–≥—Ä—É–ø–∞ 1.2)

     üåÖ –°–¨–û–ì–û–î–ù–Ü:
      ‚úÖ –£ –≤—Å—ñ—Ö —Å–≤–µ—Ç –≤:
        ‚ö° 08:00 - 10:00 (120 –º–∏–Ω)
        ‚ö° 14:00 - 18:00 (240 –º–∏–Ω)

     üåô –ó–ê–í–¢–†–ê:
      ‚úÖ –£ –≤—Å—ñ—Ö —Å–≤–µ—Ç –≤:
        ‚ö° 09:00 - 12:00 (180 –º–∏–Ω)
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ SQLite —Ñ–∞–π–ª—ñ –≤ –ø–∞–ø—Ü—ñ `/app/data/users.db` (–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ü–µ –º–æ–Ω—Ç—É—î—Ç—å—Å—è —è–∫ volume).

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ñ

```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY,
    chat_id INTEGER,           -- ID —á–∞—Ç—É Telegram
    user_id INTEGER,           -- ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ Telegram
    username TEXT,             -- –Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    group_number TEXT,         -- –ì—Ä—É–ø–∞ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å (1.1, 2.2, —Ç–∞ —ñ–Ω.)
    registered_at TIMESTAMP    -- –î–∞—Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
)
```

### –î–æ—Å—Ç—É–ø –¥–æ –ë–î

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–∑–∏:
```bash
docker exec yasno-bot sqlite3 /app/data/users.db
```

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Docker

### docker-compose.yml

- **restart: always** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ
- **env_file: .env** - –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑–º—ñ–Ω–Ω—ñ –∑ `.env`
- **volumes** - –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **resource limits** - –æ–±–º–µ–∂–µ–Ω–Ω—è CPU (1) —Ç–∞ –ø–∞–º'—è—Ç—ñ (512MB)
- **logging** - —Ä–æ—Ç–∞—Ü—ñ—è –ª–æ–≥—ñ–≤ (–º–∞–∫—Å–∏–º—É–º 10MB –Ω–∞ —Ñ–∞–π–ª)

### Dockerfile

- **FROM python:3.11-slim** - –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –æ–±—Ä–∞–∑ Python
- **HEALTHCHECK** - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤'—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- **VOLUME** - –º–æ–Ω—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

## üìä –ê–ª–≥–æ—Ä–∏—Ç–º –∞–Ω–∞–ª—ñ–∑—É

### –ó–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –ø–µ—Ä–∏–æ–¥—ñ–≤ –∑ —Å–≤—ñ—Ç–ª–æ–º

1. –û—Ç—Ä–∏–º—É—î —Ä–æ–∑–∫–ª–∞–¥ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
2. –ö–æ–Ω–≤–µ—Ä—Ç—É—î —á–∞—Å–∏ –≤ —Ö–≤–∏–ª–∏–Ω–∏ –≤—ñ–¥ –ø–æ—á–∞—Ç–∫—É –¥–Ω—è (–¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç–∏)
3. –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–µ—Ä—ñ–æ–¥–∏ –ë–ï–ó –≤—ñ–¥–∫–ª—é—á–µ–Ω—å (–∫–æ–ª–∏ —î —Å–≤—ñ—Ç–ª–æ)
4. –ù–∞—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Ç–∏–Ω —Ü–∏—Ö –ø–µ—Ä—ñ–æ–¥—ñ–≤ –¥–ª—è –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### –§–æ—Ä–º—É–ª–∞ –ø–µ—Ä–µ—Å—ñ—á–µ–Ω–Ω—è

```
Common_periods = User1_electricity ‚à© User2_electricity ‚à© ... ‚à© UserN_electricity
```

–î–µ:
- `User_electricity` = –ø–µ—Ä—ñ–æ–¥–∏, –∫–æ–ª–∏ —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —î —Å–≤—ñ—Ç–ª–æ (–∑–≤–æ—Ä–æ—Ç–Ω–µ –≤—ñ–¥ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å)

### –ü—Ä–∏–∫–ª–∞–¥

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 1 –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è: 10:00-12:00, 18:00-20:00
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 1 —Å–≤—ñ—Ç–ª–æ:      00:00-10:00, 12:00-18:00, 20:00-24:00

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 2 –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è: 11:00-13:00, 19:00-21:00
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 2 —Å–≤—ñ—Ç–ª–æ:      00:00-11:00, 13:00-19:00, 21:00-24:00

–ü–µ—Ä–µ—Å—ñ—á–µ–Ω–Ω—è (—Å–≤–µ—Ç —É –æ–±–æ—Ö):
- 00:00-10:00 ‚úì
- 12:00-13:00 ‚úì
- 18:00-19:00 ‚úì
- 20:00-24:00 ‚úì
```

## üêõ –£—Å—É–Ω–µ–Ω–Ω—è –Ω–µ—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è

1. –ü–µ—Ä–µ–≤—ñ—Ä —Ç–æ–∫–µ–Ω –≤ `.env`:
   ```bash
   cat .env | grep TELEGRAM_BOT_TOKEN
   ```

2. –ü–µ—Ä–µ–≤—ñ—Ä –ª–æ–≥–∏:
   ```bash
   docker-compose logs yasno-bot
   ```

3. –ü–µ—Ä–µ–≤—ñ—Ä –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É:
   ```bash
   docker-compose exec yasno-bot ping ya.ru
   ```

### –ü–æ–º–∏–ª–∫–∞ "Database is locked"

–¶–µ –º–æ–∂–µ —Å—Ç–∞—Ç–∏—Å—è, —è–∫—â–æ –¥–µ–∫—ñ–ª—å–∫–∞ –ø—Ä–æ—Ü–µ—Å—ñ–≤ –ø–∏—à—É—Ç—å –¥–æ –ë–î –æ–¥–Ω–æ—á–∞—Å–Ω–æ. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker-compose restart yasno-bot
```

### –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è

- –ü–µ—Ä–µ–≤—ñ—Ä, —á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π: `/users`
- –ü–µ—Ä–µ–≤—ñ—Ä –≥—Ä—É–ø—É: `/register <–≥—Ä—É–ø–∞> <—ñ–º'—è>`
- –í–ø–µ–≤–Ω–∏—Å—å, —â–æ –≥—Ä—É–ø–∞ —É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `1.1`)

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤'—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker ps --format "table {{.Names}}	{{.Status}}"
```

### –†–æ–∑–º—ñ—Ä –ë–î

```bash
docker exec yasno-bot ls -lh /app/data/users.db
```

### –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

```bash
docker exec yasno-bot sqlite3 /app/data/users.db "SELECT COUNT(*) FROM users;"
```

## üîê –ë–µ–∑–ø–µ–∫–∞

- üîí –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –≤ `.env` (–Ω–µ –≤ –∫–æ–¥—ñ)
- üîê –ë–î –∑–∞—Ö–∏—â–µ–Ω–∞ –≤—ñ–¥ –∑–∞–ø–∏—Å—É —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—É —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –ë–æ—Ç –Ω–µ –ª–æ–≥—É—î —á—É—Ç–ª–∏–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é

## üöÄ –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è

–ú–æ–∂–ª–∏–≤—ñ –º–∞–π–±—É—Ç–Ω—ñ –¥–æ–ø–æ–≤–Ω–µ–Ω–Ω—è:

- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º
- [ ] –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- [ ] PostgreSQL –∑–∞–º—ñ—Å—Ç—å SQLite –¥–ª—è –±—ñ–ª—å—à –≤–µ–ª–∏–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤
- [ ] –ï–∫—Å–ø–æ—Ä—Ç –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ —É –∫–∞–ª–µ–Ω–¥–∞—Ä (iCal)
- [ ] –ú—É–ª—Ç–∏-–º—ñ—Å—å–∫—ñ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License

## ü§ù –ö–æ–Ω—Ç–∞–∫—Ç–∏

–ü–∏—Ç–∞–Ω–Ω—è —Ç–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó –ø–∏—Å–∞—Ç–∏ –≤ Issues.

---

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –¶–µ–π –ø—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—É–±–ª—ñ—á–Ω–µ API Yasno. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –Ω–∞ —Å–≤—ñ–π —Ä–∏–∑–∏–∫.
